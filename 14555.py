# 1. 테스트 케이스 개수 T를 입력받습니다.
T = int(input())

# 2. 각 테스트 케이스(1부터 T까지)에 대해 반복합니다.
for test_case in range(1, T + 1):
    
    # 3. 공과 잡초가 심어진 필드(field) 문자열을 입력받습니다.
    #    (양쪽 공백이 있을 경우를 대비해 .strip()을 사용할 수 있습니다)
    field = input().strip()
    
    # 4. 공의 개수를 셀 변수(count)를 0으로 초기화합니다.
    count = 0
    
    # 5. 문자열을 순회하며 공 패턴을 찾습니다.
    #    현재(i)와 다음(i+1) 문자를 비교해야 하므로,
    #    반복문은 0부터 '문자열 길이 - 2' 까지 실행합니다.
    #    (예: 'abc' 길이 3 -> 0, 1까지. i=0일때 a,b / i=1일때 b,c)
    for i in range(len(field) - 1):
        
        # 6-1. 현재 문자가 '('인 경우
        if field[i] == '(':
            # 다음 문자가 ')' 또는 '|' 이면 공입니다.
            if field[i+1] == ')' or field[i+1] == '|':
                count += 1 # 공의 개수를 1 증가시킵니다.
        
        # 6-2. 현재 문자가 '|'인 경우
        elif field[i] == '|':
            # 다음 문자가 ')' 이면 공입니다.
            if field[i+1] == ')':
                count += 1 # 공의 개수를 1 증가시킵니다.
                
        # 6-3. 현재 문자가 ')'인 경우는 공의 시작이 아니므로
        #      별도 처리가 필요 없습니다.
            
    # 7. 형식에 맞춰 테스트 케이스 번호와 공의 개수(count)를 출력합니다.
    print(f"#{test_case} {count}")